<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ethercat Slave: project/rzt2m_rsk+rzt2m/ecat_IO/ewarm/CPU0/src/ethercat/renesas/sampleappl.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ethercat Slave<span id="projectnumber">&#160;v1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_167790342fb55959539d550b874be046.html">project</a></li><li class="navelem"><a class="el" href="dir_c789265d78f9c658be582d685f0afd05.html">rzt2m_rsk+rzt2m</a></li><li class="navelem"><a class="el" href="dir_8e36b3267af140f0e5ba5d5688712ba6.html">ecat_IO</a></li><li class="navelem"><a class="el" href="dir_be3d5993eb913400aa4f4b0726ed5451.html">ewarm</a></li><li class="navelem"><a class="el" href="dir_24c8a1a77446766f6c90dc4b5c88a461.html">CPU0</a></li><li class="navelem"><a class="el" href="dir_bb64339f185122b460b8ebcaad19d460.html">src</a></li><li class="navelem"><a class="el" href="dir_b30a9c7c92c367dca8386da6eba4d02c.html">ethercat</a></li><li class="navelem"><a class="el" href="dir_eed45b1e5d1aa37e012087fb9a57a56e.html">renesas</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sampleappl.c File Reference<div class="ingroups"><a class="el" href="group___sample_appl.html">Sample Application</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ecat__def_8h_source.html">ecat_def.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="appl_interface_8h_source.html">applInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ewarm_2_c_p_u0_2src_2ethercat_2renesas_2sampleappl_8h_source.html">sampleappl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bsp__api_8h_source.html">bsp_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="board__cfg_8h_source.html">board_cfg.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab4bf699ac4ea53c9c850c8b3b0ddb2fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gab4bf699ac4ea53c9c850c8b3b0ddb2fa">_SAMPLE_APPLICATION_</a></td></tr>
<tr class="separator:gab4bf699ac4ea53c9c850c8b3b0ddb2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf0c28d8d8b5a8fd3aa49d6ee8a5b7c68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gaf0c28d8d8b5a8fd3aa49d6ee8a5b7c68">APPL_AckErrorInd</a> (<a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> stateTrans)</td></tr>
<tr class="memdesc:gaf0c28d8d8b5a8fd3aa49d6ee8a5b7c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called when an error state was acknowledged by the master.  <a href="group___sample_appl.html#gaf0c28d8d8b5a8fd3aa49d6ee8a5b7c68">More...</a><br /></td></tr>
<tr class="separator:gaf0c28d8d8b5a8fd3aa49d6ee8a5b7c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2282473e4ae3479589e07847586f5d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gaf2282473e4ae3479589e07847586f5d3">APPL_StartMailboxHandler</a> (void)</td></tr>
<tr class="memdesc:gaf2282473e4ae3479589e07847586f5d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from INIT to PREOP when all general settings were checked to start the mailbox handler. This function informs the application about the state transition, the application can refuse the state transition when returning an AL Status error code. The return code NOERROR_INWORK can be used, if the application cannot confirm the state transition immediately, in that case this function will be called cyclically until a value unequal NOERROR_INWORK is returned.  <a href="group___sample_appl.html#gaf2282473e4ae3479589e07847586f5d3">More...</a><br /></td></tr>
<tr class="separator:gaf2282473e4ae3479589e07847586f5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d64aa96989d6bd9d590f46bb8e1d175"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga0d64aa96989d6bd9d590f46bb8e1d175">APPL_StopMailboxHandler</a> (void)</td></tr>
<tr class="memdesc:ga0d64aa96989d6bd9d590f46bb8e1d175"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from PREEOP to INIT to stop the mailbox handler. This functions informs the application about the state transition, the application cannot refuse the state transition.  <a href="group___sample_appl.html#ga0d64aa96989d6bd9d590f46bb8e1d175">More...</a><br /></td></tr>
<tr class="separator:ga0d64aa96989d6bd9d590f46bb8e1d175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10edce108416acc01c4b7b481d7a7780"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga10edce108416acc01c4b7b481d7a7780">APPL_StartInputHandler</a> (<a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> *pIntMask)</td></tr>
<tr class="memdesc:ga10edce108416acc01c4b7b481d7a7780"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from PREOP to SAFEOP when all general settings were checked to start the input handler. This function informs the application about the state transition, the application can refuse the state transition when returning an AL Status error code. The return code NOERROR_INWORK can be used, if the application cannot confirm the state transition immediately, in that case the application need to be complete the transition by calling ECAT_StateChange.  <a href="group___sample_appl.html#ga10edce108416acc01c4b7b481d7a7780">More...</a><br /></td></tr>
<tr class="separator:ga10edce108416acc01c4b7b481d7a7780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcb1060b4d5d58221f9a7aa6daabca53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gafcb1060b4d5d58221f9a7aa6daabca53">APPL_StopInputHandler</a> (void)</td></tr>
<tr class="memdesc:gafcb1060b4d5d58221f9a7aa6daabca53"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from SAFEOP to PREEOP to stop the input handler. This functions informs the application about the state transition, the application cannot refuse the state transition.  <a href="group___sample_appl.html#gafcb1060b4d5d58221f9a7aa6daabca53">More...</a><br /></td></tr>
<tr class="separator:gafcb1060b4d5d58221f9a7aa6daabca53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a0075004601da0f9c558113a8771678"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga2a0075004601da0f9c558113a8771678">APPL_StartOutputHandler</a> (void)</td></tr>
<tr class="memdesc:ga2a0075004601da0f9c558113a8771678"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from SAFEOP to OP when all general settings were checked to start the output handler. This function informs the application about the state transition, the application can refuse the state transition when returning an AL Status error code. The return code NOERROR_INWORK can be used, if the application cannot confirm the state transition immediately, in that case the application need to be complete the transition by calling ECAT_StateChange.  <a href="group___sample_appl.html#ga2a0075004601da0f9c558113a8771678">More...</a><br /></td></tr>
<tr class="separator:ga2a0075004601da0f9c558113a8771678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa71d511694059cb465b2890baa4a5c01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gaa71d511694059cb465b2890baa4a5c01">APPL_StopOutputHandler</a> (void)</td></tr>
<tr class="memdesc:gaa71d511694059cb465b2890baa4a5c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is called in the state transition from OP to SAFEOP to stop the output handler. This functions informs the application about the state transition, the application cannot refuse the state transition.  <a href="group___sample_appl.html#gaa71d511694059cb465b2890baa4a5c01">More...</a><br /></td></tr>
<tr class="separator:gaa71d511694059cb465b2890baa4a5c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeab8abfcdc411ac09ca7b563ae8ce668"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gaeab8abfcdc411ac09ca7b563ae8ce668">APPL_GenerateMapping</a> (<a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> *pInputSize, <a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> *pOutputSize)</td></tr>
<tr class="memdesc:gaeab8abfcdc411ac09ca7b563ae8ce668"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the process data sizes from the actual SM-PDO-Assign and PDO mapping.  <a href="group___sample_appl.html#gaeab8abfcdc411ac09ca7b563ae8ce668">More...</a><br /></td></tr>
<tr class="separator:gaeab8abfcdc411ac09ca7b563ae8ce668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga264ac6c535cc8b96fe6e38dcbf66d78c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga264ac6c535cc8b96fe6e38dcbf66d78c">APPL_InputMapping</a> (<a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> *pData)</td></tr>
<tr class="memdesc:ga264ac6c535cc8b96fe6e38dcbf66d78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will copies the inputs from the local memory to the ESC memory to the hardware.  <a href="group___sample_appl.html#ga264ac6c535cc8b96fe6e38dcbf66d78c">More...</a><br /></td></tr>
<tr class="separator:ga264ac6c535cc8b96fe6e38dcbf66d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2f2a02f0a6ad6748c8b03873d496ed7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#gab2f2a02f0a6ad6748c8b03873d496ed7">APPL_OutputMapping</a> (<a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a> *pData)</td></tr>
<tr class="memdesc:gab2f2a02f0a6ad6748c8b03873d496ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will copies the outputs from the ESC memory to the local memory to the hardware.  <a href="group___sample_appl.html#gab2f2a02f0a6ad6748c8b03873d496ed7">More...</a><br /></td></tr>
<tr class="separator:gab2f2a02f0a6ad6748c8b03873d496ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9607e14bdd12fe885d737ea68ef53c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga9607e14bdd12fe885d737ea68ef53c86">APPL_Application</a> (void)</td></tr>
<tr class="memdesc:ga9607e14bdd12fe885d737ea68ef53c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will called from the synchronisation ISR or from the mainloop if no synchronisation is supported.  <a href="group___sample_appl.html#ga9607e14bdd12fe885d737ea68ef53c86">More...</a><br /></td></tr>
<tr class="separator:ga9607e14bdd12fe885d737ea68ef53c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93a064529f24ee1377605353c611c040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="renesashw_8h.html#ab1922c2d8643eb7da964d427604e992e">UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sample_appl.html#ga93a064529f24ee1377605353c611c040">APPL_GetDeviceID</a> ()</td></tr>
<tr class="memdesc:ga93a064529f24ee1377605353c611c040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the Explicit Device ID.  <a href="group___sample_appl.html#ga93a064529f24ee1377605353c611c040">More...</a><br /></td></tr>
<tr class="separator:ga93a064529f24ee1377605353c611c040"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Implementation. </p>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'Eth'+'er'+'cat'+'SS'+'C@b'+'ec'+'kho'+'ff'+'.co'+'m'; return false;">Ether<span class="obfuscator">.nosp@m.</span>catS<span class="obfuscator">.nosp@m.</span>SC@be<span class="obfuscator">.nosp@m.</span>ckho<span class="obfuscator">.nosp@m.</span>ff.co<span class="obfuscator">.nosp@m.</span>m</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>5.12</dd></dl>
<p><br  />
Changes to version V5.11:<br  />
 V5.12 ECAT1: update SM Parameter measurement (based on the system time), enhancement for input only devices and no mailbox support, use only 16Bit pointer in process data length caluclation<br  />
 V5.12 ECAT2: big endian changes<br  />
 V5.12 EOE1: move icmp sample to the sampleappl,add EoE application interface functions<br  />
 V5.12 EOE2: prevent static ethernet buffer to be freed<br  />
 V5.12 EOE3: fix memory leaks in sample ICMP application<br  />
 V5.12 FOE1: update new interface,move the FoE sample to sampleappl,add FoE application callback functions<br  />
 <br  />
Changes to version V5.10:<br  />
 V5.11 ECAT11: create application interface function pointer, add eeprom emulation interface functions<br  />
 V5.11 ECAT4: enhance SM/Sync monitoring for input/output only slaves<br  />
 <br  />
Changes to version V5.01:<br  />
 V5.10 ECAT10: Add missing include '<a class="el" href="objdef_8h.html" title="CAN application profile over EtherCAT object dictionary.">objdef.h</a>'<br  />
 Add process data size calculation to sampleappl<br  />
 V5.10 ECAT6: Add "USE_DEFAULT_MAIN" to enable or disable the main function<br  />
 V5.10 FC1100: Stop stack if hardware init failed<br  />
 <br  />
Changes to version V5.0:<br  />
 V5.01 APPL2: Update Sample Application Output mapping<br  />
 V5.0: file created </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
